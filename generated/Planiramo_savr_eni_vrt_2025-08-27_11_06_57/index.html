<!DOCTYPE html>
<html lang="sr">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Planiramo savršeni vrt</title>
    <style>
        body {
            font-family: Arial, sans-serif;
            text-align: center;
            background-color: #e9f7ef;
            margin: 0;
            padding: 20px;
        }
        h1 {
            color: #2c3e50;
        }
        #gardenCanvas {
            border: 1px solid #2c3e50;
            cursor: pointer;
        }
        .panel {
            display: none;
            position: fixed;
            background: white;
            border: 1px solid #2c3e50;
            padding: 15px;
            box-shadow: 2px 2px 10px rgba(0, 0, 0, 0.1);
        }
        .reset-button {
            margin-top: 20px;
            padding: 10px 20px;
            background-color: #16a085;
            color: white;
            border: none;
            cursor: pointer;
        }
    </style>
</head>
<body>
    <h1>Planiramo savršeni vrt</h1>
    <p>Alat omogućava učenicima da rasporede biljke, staze i vodene površine u virtuelnom vrtu. Svaka biljka i element ima svoje potrebe i osobine, a učenici uče kako različiti elementi utiču jedni na druge i na životnu sredinu.</p>

    <canvas id="gardenCanvas" width="800" height="600"></canvas>
    <div id="panel" class="panel"></div>
    <button class="reset-button" onclick="resetGarden()">Resetuj vrt</button>

    <script>
        const canvas = document.getElementById('gardenCanvas');
        const ctx = canvas.getContext('2d');
        const panel = document.getElementById('panel');
        let clickCount = { central: 0, border: 0, water: 0 };

        function drawGarden() {
            // Draw zones
            ctx.clearRect(0, 0, canvas.width, canvas.height);
            // Central zone
            ctx.fillStyle = "lightgreen";
            ctx.fillRect(300, 200, 200, 200);
            // Border zones
            ctx.fillStyle = "lightyellow";
            ctx.fillRect(0, 0, 800, 200); // Top
            ctx.fillRect(0, 400, 800, 200); // Bottom
            ctx.fillRect(0, 200, 300, 200); // Left
            ctx.fillRect(500, 200, 300, 200); // Right
            // Water zone
            ctx.fillStyle = "lightblue";
            ctx.fillRect(650, 50, 100, 50);
            ctx.fillRect(50, 450, 100, 50);
        }

        canvas.addEventListener('click', function(event) {
            const rect = canvas.getBoundingClientRect();
            const x = event.clientX - rect.left;
            const y = event.clientY - rect.top;

            if (x >= 300 && x <= 500 && y >= 200 && y <= 400) {
                clickCount.central++;
                handleCentralZone();
            } else if ((x <= 300 && y <= 200) || (x <= 300 && y >= 200 && y <= 400) || (x >= 500 && y <= 200) || (x >= 500 && y >= 200 && y <= 400)) {
                clickCount.border++;
                handleBorderZone();
            } else if ((x >= 650 && y >= 50 && y <= 100) || (x <= 150 && y >= 450 && y <= 500)) {
                clickCount.water++;
                handleWaterZone();
            }
        });

        function handleCentralZone() {
            panel.style.display = "block";
            panel.style.left = "10%";
            panel.style.top = "40%";
            if (clickCount.central === 1) {
                panel.innerHTML = "Prikaži panel sa opcijama sadnje cvetova i povrća, sa opisom njihovih potreba za svetlom i vodom.";
            } else {
                panel.innerHTML = "Ruže vole sunce i redovno zalivanje. Dodaj susedne biljke koje vole slične uslove.";
            }
        }

        function handleBorderZone() {
            panel.style.display = "block";
            panel.style.left = "70%";
            panel.style.top = "40%";
            if (clickCount.border === 1) {
                panel.innerHTML = "Prikaži opcije za sadnju drveća i grmlja, sa objašnjenjem kako štite vrt od vetra i obezbeđuju hladovinu.";
            } else {
                panel.innerHTML = "Drveće stvara hladovinu i poboljšava kvalitet tla.";
                animateLeaves();
            }
        }

        function handleWaterZone() {
            panel.style.display = "block";
            panel.style.left = "10%";
            panel.style.top = "10%";
            if (clickCount.water === 1) {
                panel.innerHTML = "Prikaži panel sa opcijama za dodavanje jezera, fontana ili bara sa ribama.";
            } else {
                panel.innerHTML = "Ribe pomažu u kontroli insekata i čine vrt živopisnijim.";
                animateFish();
            }
        }

        function animateLeaves() {
            // Simple animation logic for the leaves
            ctx.fillStyle = "lightgreen";
            ctx.fillRect(350, 220, 20, 20);
            ctx.fillStyle = "green";
            ctx.fillRect(370, 220, 20, 20);
            const animate = () => {
                ctx.clearRect(350, 220, 40, 20);
                ctx.fillStyle = "lightgreen";
                ctx.fillRect(350, 220 + Math.sin(Date.now() / 500) * 5, 20, 20);
                ctx.fillStyle = "green";
                ctx.fillRect(370, 220 + Math.sin(Date.now() / 500) * 5, 20, 20);
                requestAnimationFrame(animate);
            };
            animate();
        }

        function animateFish() {
            // Example animation for fish (could be enhanced)
            ctx.fillStyle = "orange";
            ctx.beginPath();
            ctx.arc(700, 75, 10, 0, Math.PI * 2, true);
            ctx.fill();
        }

        function resetGarden() {
            clickCount = { central: 0, border: 0, water: 0 };
            panel.style.display = "none";
            drawGarden();
        }

        drawGarden();
    </script>
</body>
</html>